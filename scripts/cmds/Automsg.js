const moment = require("moment-timezone");
const axios = require("axios");

module.exports.config = {
  name: 'Automsg',
  version: "2.0.0",
  role: 0,
  author: " ＮＩＲୋＢ﹅ メ",
  description: "Auto time message with random videos from JSON",
  category: "AutoTime",
  countDown: 3
};

module.exports.onLoad = async ({ api }) => {
  // videos.json থেকে ভিডিও লিঙ্ক লোড
  let videos = [];
  try {
    const response = await axios.get("https://raw.githubusercontent.com/nirob-kakashi66/60-/main/AutomsgVideo.json");
    videos = response.data;
  } catch (e) {
    console.error("❌ ভিডিও লিঙ্ক লোড করা যায়নি:", e);
  }

  // সময় অনুযায়ী Cute / Kawaii Stylish Box নোট
  const messagesByTime = {
    "12:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌙 রাত গভীর, স্বপ্নগুলো আলিঙ্গন করো।\n🐾 শান্তি ও আনন্দ মিশ্রিত হোক 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "01:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 💭 নিঃশব্দ রাতেও হৃদয়ের কথা শোনা যায়।\n🐾 মিষ্টি স্বপ্ন 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "02:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌌 তারা গুনতে গুনতে হারিয়ে যাও স্বপ্নের দেশে।\n🐾 শান্তি ও মধুর রাত 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "03:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🕊️ মনকে হালকা করো, নতুন দিনের জন্য প্রস্তুত হও।\n🐾 স্বপ্নগুলো সুন্দর হোক 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "04:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌿 শান্তি আর প্রেরণার শুরু করো।\n🐾 মন শান্ত ও আনন্দময় হোক 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "05:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌅 সকাল বেলার আলো নতুন আশার প্রতীক।\n🐾 হাসিমুখে দিন শুরু করো 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "06:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: ☀️ আজকের দিনটা হাসিমুখে শুরু করো।\n🐾 আনন্দের মুহূর্ত 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "07:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🍃 জীবনের প্রতিটি মুহূর্ত উপভোগ করো।\n🐾 মিষ্টি হাসি 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "08:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌼 তোমার হাসি কারো দিনের আলো হয়ে উঠতে পারে।\n🐾 আনন্দে দিন কাটাও 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "09:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 📖 প্রতিদিন কিছু শিখো, জীবন হবে সুন্দর।\n🐾 হাসি ও আনন্দ 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "10:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 💡 ছোট ছোট স্বপ্ন গুলোই বড় সাফল্যের শুরু।\n🐾 মনকে ইতিবাচক রাখো 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "11:00:00 AM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌸 ভালোবাসা ও সদয়তা ছড়িয়ে দাও।\n🐾 সুখী মুহূর্ত 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "12:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: ☀️ দুপুরের রোদে নতুন উদ্যম নাও।\n🐾 হাসি ছড়িয়ে দাও 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "01:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🍵 একটু বিরতি নাও, মনকে শান্ত করো।\n🐾 দিনটা উপভোগ করো 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "02:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 💬 কারো সাথে সুন্দর কিছু কথা বলো।\n🐾 আনন্দে দিন কাটাও 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "03:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌻 প্রকৃতির সৌন্দর্য উপভোগ করো।\n🐾 মিষ্টি মুহূর্ত 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "04:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🎯 লক্ষ্য ঠিক করো, এগিয়ে চলো।\n🐾 আশার আলো 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "05:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌆 দিনের শেষ আলোতেও আশা খুঁজে নাও।\n🐾 দিনটি আনন্দময় হোক 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "06:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 💖 পরিবারকে সময় দাও।\n🐾 ভালোবাসা ছড়িয়ে দাও 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "07:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🍂 নিজের গল্প লিখে যাও প্রতিদিন।\n🐾 মধুর রাত 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "08:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌙 রাতের আকাশ তোমাকে শান্তি দিক।\n🐾 স্বপ্নগুলো মিষ্টি হোক 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "09:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: ✨ মনকে ইতিবাচক রাখো, জীবন বদলাবে।\n🐾 সুস্থ থাকো 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "10:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🕯️ আজকের জন্য কৃতজ্ঞ থাকো।\n🐾 শান্তি ও ভালোবাসা 🌸\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" },
    "11:00:00 PM": { message: "====== 🐾 𝗔𝗨𝗧𝗢 𝗦𝗘𝗡𝗗 🐾 ======\n━━━━━━━━━━━━━━━━━━━━━━━\n💬: 🌌 আগামী দিনের স্বপ্ন দেখো।\n🐾 মিষ্টি রাত্রি 💖\n━━━━━━━━━━━━━━━━━━━━━━━\n➝ 𝗔𝘂𝘁𝗼 𝗠𝗲𝘀𝘀𝗮𝗴𝗲 ✨" }
  };

  setInterval(() => {
    const currentTime = moment().tz("Asia/Dhaka").format("hh:mm:ss A");
    if (messagesByTime[currentTime]) {
      const msg = messagesByTime[currentTime].message;
      if (videos.length > 0) {
        const randomVideo = videos[Math.floor(Math.random() * videos.length)];
        api.sendMessage(
          { body: `${msg}\n\n🎥 ভিডিও: ${randomVideo}` },
          global.autotimeThread || "PUT_THREAD_ID_HERE"
        );
      } else {
        api.sendMessage({ body: msg }, global.autotimeThread || "PUT_THREAD_ID_HERE");
      }
    }
  }, 1000);
};
